(function(e){function t(t){for(var a,o,s=t[0],i=t[1],l=t[2],u=0,b=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&b.push(n[o][0]),n[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],a=!0,o=1;o<r.length;o++){var i=r[o];0!==n[i]&&(a=!1)}a&&(c.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},c=[];function o(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"982cb8dd"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=a);var c,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=o(e);var l=new Error;c=function(t){i.onerror=i.onload=null,clearTimeout(u);var r=n[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",l.name="ChunkLoadError",l.type=a,l.request=c,r[1](l)}n[e]=void 0}};var u=setTimeout((function(){c({type:"timeout",target:i})}),12e4);i.onerror=i.onload=c,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"01e7":function(e,t,r){},"0d22":function(e,t,r){"use strict";r("2686")},"176f":function(e,t,r){},2686:function(e,t,r){},"272c":function(e,t,r){},2788:function(e,t,r){"use strict";r("f1d7")},"34e7":function(e,t,r){"use strict";r("b6b2")},3928:function(e,t,r){e.exports=r.p+"img/tag.c7133bb2.svg"},"3e6c":function(e,t,r){"use strict";r("272c")},4736:function(e,t,r){"use strict";r("fb3f")},"4c4a":function(e,t,r){e.exports=r.p+"img/banner.11a0e086.jpg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("7a23"),n=r("c013"),c=r.n(n),o={id:"nav"},s={class:"company"},i=Object(a["g"])("span",{class:"company-name"},[Object(a["g"])("img",{src:c.a,alt:"logo"}),Object(a["g"])("p",null,"United Auto Sales")],-1),l=Object(a["f"])("Add Car"),u=Object(a["f"])("Explore"),d=Object(a["f"])("My Profile"),b=Object(a["f"])("Logout"),p=Object(a["f"])("Login"),f=Object(a["f"])("Register ");function g(e,t,r,n,c,g){var O=Object(a["w"])("router-link"),j=Object(a["w"])("router-view");return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])("div",o,[Object(a["g"])("div",s,[Object(a["g"])(O,{to:{path:0==c.uid.length?"/":"/explore"}},{default:Object(a["D"])((function(){return[i]})),_:1},8,["to"]),Object(a["g"])("div",{class:this.isLoggedIn?"":"hidden"},[Object(a["g"])(O,{to:"/cars/new"},{default:Object(a["D"])((function(){return[l]})),_:1}),Object(a["g"])(O,{to:"/explore"},{default:Object(a["D"])((function(){return[u]})),_:1}),Object(a["g"])(O,{to:{path:"/users/"+c.uid}},{default:Object(a["D"])((function(){return[d]})),_:1},8,["to"])],2)]),Object(a["g"])("div",{class:this.isLoggedIn?"":"hidden"},[Object(a["g"])(O,{to:"/",onClick:g.logout},{default:Object(a["D"])((function(){return[b]})),_:1},8,["onClick"])],2),Object(a["g"])("div",{class:this.isLoggedIn?"hidden":""},[Object(a["g"])(O,{to:"/login"},{default:Object(a["D"])((function(){return[p]})),_:1}),Object(a["g"])(O,{to:"/register"},{default:Object(a["D"])((function(){return[f]})),_:1})],2)]),Object(a["g"])(j)])}var O=r("1da1");r("96cf"),r("ac1f"),r("1276"),r("5319"),r("a15b"),r("d81d"),r("fb6a"),r("d3b7"),r("25f0");function j(){var e=localStorage.getItem("jwt");return e?{Authorization:"Bearer "+e}:{}}var m="http://localhost:9090/api";function h(e){return v.apply(this,arguments)}function v(){return v=Object(O["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t.username,password:t.password})},e.abrupt("return",fetch("".concat(m,"/auth/login"),r).then((function(e){return e.ok||401===e.status?e.json():void 0})).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function y(e){return localStorage.setItem("jwt",e.token),{success:e.message}}function A(e){return w.apply(this,arguments)}function w(){return w=Object(O["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={method:"POST",body:t},e.abrupt("return",fetch("".concat(m,"/auth/register"),r).then((function(e){return e.ok||401===e.status?e.json():void 0})).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function C(){return k.apply(this,arguments)}function k(){return k=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=j(),e.abrupt("return",fetch("".concat(m,"/auth/logout"),{method:"POST",headers:{Authorization:t.Authorization},body:{}}).then((function(e){return e.json})));case 2:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function S(e){var t=e.split(".")[1],r=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}var P={name:"App",created:function(){var e=this;console.log(e.uid.length);try{var t=j().Authorization;t&&(e.uid=S(t).id,e.isLoggedIn=!0)}catch(r){console.log(r)}},data:function(){return{uid:"",isLoggedIn:!1}},methods:{logout:function(){C(),localStorage.removeItem("jwt"),this.isLoggedIn=!1}}};r("a99b");P.render=g;var _=P,x=(r("3ca3"),r("ddb0"),r("6c02")),U=Object(a["G"])("data-v-a5f5a6aa");Object(a["s"])("data-v-a5f5a6aa");var T={class:"home"};Object(a["q"])();var E=U((function(e,t,r,n,c,o){var s=Object(a["w"])("HomePage");return Object(a["p"])(),Object(a["d"])("div",T,[Object(a["g"])(s)])})),I=r("4c4a"),R=r.n(I),M=Object(a["G"])("data-v-5de60ca6");Object(a["s"])("data-v-5de60ca6");var D=Object(a["g"])("section",{id:"home-page"},[Object(a["g"])("h1",null,"Buy and Sell Cars Online"),Object(a["g"])("p",null," United Auto Sales provides the fastest, easiest and most user friendy to buy and sell cars online. Find a great price on the vehicle you Want "),Object(a["g"])("div",{class:"btns"},[Object(a["g"])("a",{href:"/register",class:"reg-btn"}," Register "),Object(a["g"])("a",{href:"/login",class:"login-btn"},"Login")])],-1),B=Object(a["g"])("img",{src:R.a,alt:"car"},null,-1);Object(a["q"])();var q=M((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("main",null,[D,B])})),N={name:"HomePage"};r("63ef");N.render=q,N.__scopeId="data-v-5de60ca6";var F=N,L={name:"Home",components:{HomePage:F}};r("4736");L.render=E,L.__scopeId="data-v-a5f5a6aa";var V=L,J=Object(a["G"])("data-v-21087e95");Object(a["s"])("data-v-21087e95");var G={id:"login"},Y=Object(a["g"])("h1",null,"Log in to your account",-1);Object(a["q"])();var Q=J((function(e,t,r,n,c,o){var s=Object(a["w"])("login-form");return Object(a["p"])(),Object(a["d"])("div",G,[Y,Object(a["g"])(s)])})),z=Object(a["G"])("data-v-d9a00d98");Object(a["s"])("data-v-d9a00d98");var H={id:"login-form-container"},X=Object(a["g"])("label",{for:"username"}," Username ",-1),K=Object(a["g"])("label",{for:"password"}," Password ",-1),W=Object(a["g"])("button",{class:"auth-form-btn",type:"submit"}," Login ",-1),Z={key:0,class:"error"};Object(a["q"])();var $=z((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("section",H,[Object(a["g"])("form",{onSubmit:t[3]||(t[3]=Object(a["F"])((function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)}),["prevent"])),method:"POST"},[X,Object(a["E"])(Object(a["g"])("input",{id:"username",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.username=e}),required:""},null,512),[[a["B"],c.username]]),K,Object(a["E"])(Object(a["g"])("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e}),required:""},null,512),[[a["B"],c.password]]),W,c.error?(Object(a["p"])(),Object(a["d"])("div",Z,Object(a["y"])(c.error),1)):Object(a["e"])("",!0)],32)])})),ee={name:"LoginForm",data:function(){return{username:"",password:"",error:""}},methods:{handleSubmit:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.preventDefault(),a={username:t.username,password:t.password},r.next=4,h(a);case 4:n=r.sent,n.error?(console.log(n.error),t.error=n.error):(y(n),window.location.href="/explore"),console.log(n);case 7:case"end":return r.stop()}}),r)})))()}}};r("e389");ee.render=$,ee.__scopeId="data-v-d9a00d98";var te=ee,re={components:{LoginForm:te},name:"LoginPage"};r("3e6c");re.render=Q,re.__scopeId="data-v-21087e95";var ae=re,ne=Object(a["G"])("data-v-41baa05f");Object(a["s"])("data-v-41baa05f");var ce={id:"registration"},oe=Object(a["g"])("h1",null,"Register New User",-1);Object(a["q"])();var se=ne((function(e,t,r,n,c,o){var s=Object(a["w"])("registration-form");return Object(a["p"])(),Object(a["d"])("div",ce,[oe,Object(a["g"])(s)])})),ie=Object(a["G"])("data-v-023e0563");Object(a["s"])("data-v-023e0563");var le={id:"registration-form-container"},ue={class:"form-fields"},de={class:"form-field"},be=Object(a["g"])("label",{for:"username"}," Username ",-1),pe={class:"form-field"},fe=Object(a["g"])("label",{for:"password"}," Password ",-1),ge={class:"form-fields"},Oe={class:"form-field"},je=Object(a["g"])("label",{for:"fullname"}," Fullname ",-1),me={class:"form-field"},he=Object(a["g"])("label",{for:"email"}," Email ",-1),ve={class:"form-field"},ye=Object(a["g"])("label",{for:"location"},"Location",-1),Ae={class:"form-field"},we=Object(a["g"])("label",{for:"biography"},"Biography",-1),Ce={class:"form-field"},ke=Object(a["g"])("div",{class:"form-field"},[Object(a["g"])("button",{type:"submit",id:"register-btn"},"Register")],-1),Se={key:0,class:"error"};Object(a["q"])();var Pe=ie((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("section",le,[Object(a["g"])("form",{onSubmit:t[8]||(t[8]=Object(a["F"])((function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)}),["prevent"])),method:"POST",id:"registration-form"},[Object(a["g"])("article",ue,[Object(a["g"])("div",de,[be,Object(a["E"])(Object(a["g"])("input",{id:"username",type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.username=e})},null,512),[[a["B"],c.username]])]),Object(a["g"])("div",pe,[fe,Object(a["E"])(Object(a["g"])("input",{id:"password",type:"password",required:"","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.password=e})},null,512),[[a["B"],c.password]])])]),Object(a["g"])("article",ge,[Object(a["g"])("div",Oe,[je,Object(a["E"])(Object(a["g"])("input",{id:"fullname",type:"text",required:"","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.fullname=e})},null,512),[[a["B"],c.fullname]])]),Object(a["g"])("div",me,[he,Object(a["E"])(Object(a["g"])("input",{id:"email",type:"email",required:"","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.email=e})},null,512),[[a["B"],c.email]])])]),Object(a["g"])("div",ve,[ye,Object(a["E"])(Object(a["g"])("input",{id:"location",type:"text",required:"","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.location=e})},null,512),[[a["B"],c.location]])]),Object(a["g"])("div",Ae,[we,Object(a["E"])(Object(a["g"])("textarea",{id:"biography",rows:"8",cols:"50",required:"","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.biography=e})},null,512),[[a["B"],c.biography]])]),Object(a["g"])("div",Ce,[Object(a["g"])("input",{type:"file",name:"photo",ref:"photo",accept:"image/*",onChange:t[7]||(t[7]=function(e){return o.handleFileUpload()})},null,544)]),ke,c.error?(Object(a["p"])(),Object(a["d"])("div",Se,Object(a["y"])(c.error),1)):Object(a["e"])("",!0)],32)])})),_e={name:"RegistrationForm",data:function(){return{username:"",password:"",fullname:"",email:"",location:"",biography:"",photo:"",error:""}},methods:{handleFileUpload:function(){this.photo=this.$refs.photo.files[0]},handleSubmit:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a,n,c,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(c in e.preventDefault(),a={username:t.username,password:t.password,fullname:t.fullname,email:t.email,location:t.location,biography:t.biography,photo:t.photo},n=new FormData,a)n.append(c,a[c]);return r.next=6,A(n);case 6:o=r.sent,o.error?(console.log(o.error),t.error=o.error):(s=h({username:t.username,password:t.password}),y(s),t.$router.push("/")),console.log(o);case 9:case"end":return r.stop()}}),r)})))()}}};r("2788");_e.render=Pe,_e.__scopeId="data-v-023e0563";var xe=_e,Ue={components:{RegistrationForm:xe},name:"RegistrationPage"};r("0d22");Ue.render=se,Ue.__scopeId="data-v-41baa05f";var Te=Ue,Ee={id:"explore"};function Ie(e,t,r,n,c,o){var s=Object(a["w"])("ExploreComponent");return Object(a["p"])(),Object(a["d"])("div",Ee,[Object(a["g"])(s)])}var Re=r("3928"),Me=r.n(Re),De=Object(a["G"])("data-v-740febb3");Object(a["s"])("data-v-740febb3");var Be={id:"explore-page"},qe=Object(a["g"])("div",{class:"heading"},[Object(a["g"])("h1",null,"Explore")],-1),Ne={class:"search-cars"},Fe={class:"inputs"},Le=Object(a["g"])("label",{class:"model",for:"make"},"Make",-1),Ve={class:"inputs"},Je=Object(a["g"])("label",{class:"model",for:"model"},"Model",-1),Ge={class:"car-cards"},Ye={class:"cars-lst"},Qe={class:"car-card"},ze={class:"photo"},He={class:"car-info"},Xe={class:"name-and-price"},Ke={class:"year-and-make"},We={class:"car-price"},Ze=Object(a["g"])("img",{class:"tags",src:Me.a,alt:"tag"},null,-1),$e={class:"car-model"};Object(a["q"])();var et=De((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("section",Be,[qe,Object(a["g"])("div",Ne,[Object(a["g"])("div",Fe,[Le,Object(a["E"])(Object(a["g"])("input",{type:"search",name:"make","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.searchTermMake=e}),onChange:t[2]||(t[2]=function(){return o.empty&&o.empty.apply(o,arguments)}),id:"make",class:"search-input"},null,544),[[a["B"],c.searchTermMake]])]),Object(a["g"])("div",Ve,[Je,Object(a["E"])(Object(a["g"])("input",{type:"search",name:"model","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.searchTermModel=e}),onChange:t[4]||(t[4]=function(){return o.empty&&o.empty.apply(o,arguments)}),id:"model",class:"search-input"},null,544),[[a["B"],c.searchTermModel]])]),Object(a["g"])("button",{class:"btn-search",onClick:t[5]||(t[5]=function(){return o.searchCars&&o.searchCars.apply(o,arguments)})},"Search")]),Object(a["g"])("div",Ge,[Object(a["g"])("ul",Ye,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.currentCars,(function(e){return Object(a["p"])(),Object(a["d"])("li",{key:e.id},[Object(a["g"])("div",Qe,[Object(a["g"])("div",ze,[Object(a["g"])("img",{src:c.API_ENDPOINT+"/uploads/"+e.photo,alt:"car"},null,8,["src"])]),Object(a["g"])("div",He,[Object(a["g"])("div",null,[Object(a["g"])("span",Xe,[Object(a["g"])("p",Ke,Object(a["y"])(e.year+" "+e.make),1),Object(a["g"])("span",We,[Ze,Object(a["g"])("p",null,"$"+Object(a["y"])(e.price),1)])]),Object(a["g"])("p",$e,Object(a["y"])(e.model),1)])]),Object(a["g"])("button",{onClick:function(t){return o.getCar(e.id)},class:"btn-details"}," View More Details ",8,["onClick"])])])})),128))])])])})),tt=(r("4de4"),"http://localhost:9090/api"),rt={name:"ExploreComponent",created:function(){var e=this;fetch(tt+"/cars",{headers:j()}).then((function(e){return e.json()})).then((function(t){console.log(t),t.message||(e.cars=t)})).then((function(){console.log(e.cars),e.currentCars=e.cars,console.log(e.currentCars)}))},data:function(){return{cars:[],currentCars:[],searchTermModel:"",searchTermMake:"",API_ENDPOINT:"http://localhost:9090/api"}},methods:{getCar:function(e){window.location.href="/cars/".concat(e)},empty:function(){""==this.searchTermModel&&""==this.searchTermMake&&(this.currentCars=this.cars)},searchCars:function(){var e=this;""!=this.searchTermModel&&""==this.searchTermMake?this.currentCars=this.cars.filter((function(t){return t.model.toUpperCase()==e.searchTermModel.toUpperCase()})):""==this.searchTermModel&&""!=this.searchTermMake?this.currentCars=this.cars.filter((function(t){return t.make.toUpperCase()==e.searchTermMake.toUpperCase()})):this.currentCars=this.cars.filter((function(t){return t.make.toUpperCase()==e.searchTermMake.toUpperCase()&&t.model.toUpperCase()==e.searchTermModel.toUpperCase()}))}}};r("df19");rt.render=et,rt.__scopeId="data-v-740febb3";var at=rt,nt={name:"ExplorePage",components:{ExploreComponent:at}};nt.render=Ie;var ct=nt,ot=Object(a["G"])("data-v-2b593910");Object(a["s"])("data-v-2b593910");var st={id:"car"};Object(a["q"])();var it=ot((function(e,t,r,n,c,o){var s=Object(a["w"])("CarComponent");return Object(a["p"])(),Object(a["d"])("div",st,[Object(a["g"])(s)])})),lt=(r("a4d3"),r("e01a"),r("fbe8")),ut=r.n(lt),dt=r("a143"),bt=r.n(dt),pt=Object(a["G"])("data-v-4d39b5de");Object(a["s"])("data-v-4d39b5de");var ft={class:"main-car"},gt={id:"car-page"},Ot={class:"details"},jt={class:"black"},mt=Object(a["g"])("span",{class:"detail-labels"},"Colour ",-1),ht={class:"black"},vt=Object(a["g"])("span",{class:"detail-labels"},"Body Type ",-1),yt={class:"black"},At=Object(a["g"])("span",{class:"detail-labels"},"Price ",-1),wt={class:"black"},Ct=Object(a["g"])("span",{class:"detail-labels"},"Transmission ",-1),kt={class:"car-btns"},St=Object(a["g"])("a",{class:"login-btn"},"Email Owner",-1);Object(a["q"])();var Pt=pt((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("div",ft,[Object(a["g"])("img",{src:c.API_ENDPOINT+"/uploads/"+c.car.photo,alt:""},null,8,["src"]),Object(a["g"])("div",gt,[Object(a["g"])("div",null,[Object(a["g"])("h2",null,Object(a["y"])(c.car.year+" "+c.car.make),1),Object(a["g"])("h3",null,Object(a["y"])(c.car.model),1),Object(a["g"])("p",null,Object(a["y"])(c.car.description),1),Object(a["g"])("div",Ot,[Object(a["g"])("p",jt,[mt,Object(a["f"])(Object(a["y"])(c.car.colour),1)]),Object(a["g"])("p",ht,[vt,Object(a["f"])(Object(a["y"])(c.car.car_type),1)]),Object(a["g"])("p",yt,[At,Object(a["f"])("$"+Object(a["y"])(c.car.price),1)]),Object(a["g"])("p",wt,[Ct,Object(a["f"])(Object(a["y"])(c.car.transmission),1)])])]),Object(a["g"])("div",kt,[St,Object(a["g"])("button",{onClick:t[1]||(t[1]=function(){return o.setFave&&o.setFave.apply(o,arguments)}),class:"fave"},[Object(a["g"])("img",{class:c.isFavourite?"hidden":"",src:ut.a,alt:"fave"},null,2),Object(a["g"])("img",{class:c.isFavourite?"":"hidden",src:bt.a,alt:"fave"},null,2)])])])])})),_t=(r("caad"),r("2532"),{name:"ExploreComponent",created:function(){var e="http://localhost:9090/api",t=this,r=window.location.pathname.replace("/cars/",""),a=j().Authorization;function n(e){var t=e.split(".")[1],r=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}t.uid=n(a).id,fetch(e+"/cars/".concat(r),{headers:j()}).then((function(e){return e.json()})).then((function(e){e.message||(t.car=e,t.pic_src="../../../../uploads/"+e.photo)})),fetch(e+"/users/".concat(t.uid,"/favourites"),{headers:j()}).then((function(e){return e.json()})).then((function(e){e.message||(t.favourites=e)})).then((function(){t.favourites.map((function(e){return e.id})).includes(t.car.id)&&(t.isFavourite=!0)}))},data:function(){return{car:{},favourites:[],isFavourite:!1,pic_src:String,uid:String,API_ENDPOINT:"http://localhost:9090/api"}},methods:{setFave:function(){var e=this,t="http://localhost:9090/api";e.isFavourite||fetch(t+"/cars/".concat(e.car.id,"/favourite"),{headers:j(),method:"POST"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.isFavourite=!0}))}}});r("34e7");_t.render=Pt,_t.__scopeId="data-v-4d39b5de";var xt=_t,Ut={name:"CarPage",components:{CarComponent:xt}};r("aba8");Ut.render=it,Ut.__scopeId="data-v-2b593910";var Tt=Ut,Et=Object(a["G"])("data-v-7699beb9");Object(a["s"])("data-v-7699beb9");var It={id:"user"};Object(a["q"])();var Rt=Et((function(e,t,r,n,c,o){var s=Object(a["w"])("UserComponent");return Object(a["p"])(),Object(a["d"])("div",It,[Object(a["g"])(s)])})),Mt=(r("b0c0"),Object(a["G"])("data-v-308e4f4d"));Object(a["s"])("data-v-308e4f4d");var Dt=Object(a["g"])("h1",{id:"no-access"},"You cannot access this page",-1),Bt={class:"user-card"},qt={class:"profile-img"},Nt=Object(a["g"])("br",null,null,-1),Ft={class:"black"},Lt=Object(a["g"])("span",{class:"user-detail-label"},"Email ",-1),Vt={class:"black"},Jt=Object(a["g"])("span",{class:"user-detail-label"},"Location ",-1),Gt={class:"black"},Yt=Object(a["g"])("span",{class:"user-detail-label"},"Joined ",-1),Qt=Object(a["g"])("div",{class:"heading"},[Object(a["g"])("h1",null,"Cars Favourited")],-1),zt={class:"car-cards"},Ht={class:"cars-lst"},Xt={class:"car-card"},Kt={class:"photo"},Wt={class:"car-info"},Zt={class:"name-and-price"},$t={class:"year-and-make"},er={class:"car-price"},tr=Object(a["g"])("img",{class:"tags",src:Me.a,alt:"tag"},null,-1),rr={class:"car-model"};Object(a["q"])();var ar=Mt((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("section",null,[Object(a["g"])("div",{class:c.param==c.uid?"hidden":""},[Dt],2),Object(a["g"])("div",{class:c.param==c.uid?"":"hidden",id:"user-page"},[Object(a["g"])("div",Bt,[Object(a["g"])("div",qt,[Object(a["g"])("img",{src:c.API_ENDPOINT+"/uploads/"+c.user.photo,alt:""},null,8,["src"])]),Object(a["g"])("div",null,[Object(a["g"])("h1",null,Object(a["y"])(c.user.name),1),Object(a["g"])("h3",null,Object(a["y"])(c.user.username),1),Object(a["g"])("p",null,Object(a["y"])(c.user.biography),1),Nt,Object(a["g"])("p",Ft,[Lt,Object(a["f"])(" "+Object(a["y"])(c.user.email),1)]),Object(a["g"])("p",Vt,[Jt,Object(a["f"])(" "+Object(a["y"])(c.user.location),1)]),Object(a["g"])("p",Gt,[Yt,Object(a["f"])(" "+Object(a["y"])(c.user.date_joined),1)])])]),Qt,Object(a["g"])("div",zt,[Object(a["g"])("ul",Ht,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.cars,(function(e){return Object(a["p"])(),Object(a["d"])("li",{key:e.id},[Object(a["g"])("div",Xt,[Object(a["g"])("div",Kt,[Object(a["g"])("img",{src:c.API_ENDPOINT+"/uploads/"+e.photo,alt:"car"},null,8,["src"])]),Object(a["g"])("div",Wt,[Object(a["g"])("div",null,[Object(a["g"])("span",Zt,[Object(a["g"])("p",$t,Object(a["y"])(e.year+" "+e.make),1),Object(a["g"])("span",er,[tr,Object(a["g"])("p",null,"$"+Object(a["y"])(e.price),1)])]),Object(a["g"])("p",rr,Object(a["y"])(e.model),1)])]),Object(a["g"])("button",{onClick:function(t){return o.getCar(e.id)},class:"btn-details"}," View More Details ",8,["onClick"])])])})),128))])])],2)])})),nr="http://localhost:9090/api",cr={name:"UserComponent",created:function(){var e=this,t=j().Authorization,r=window.location.pathname.replace("/users/","");function a(e){var t=e.split(".")[1],r=t.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(r).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)}e.param=r,e.uid=a(t).id,fetch(nr+"/users/".concat(r,"/favourites"),{headers:j()}).then((function(e){return e.json()})).then((function(t){t.message||(e.cars=t)})),fetch(nr+"/users/".concat(r),{headers:j()}).then((function(e){return e.json()})).then((function(t){t.message||(e.user=t)}))},data:function(){return{cars:[],user:{},uid:String,param:String,API_ENDPOINT:"http://localhost:9090/api"}},methods:{getCar:function(e){window.location.href="/cars/".concat(e)}}};r("d330");cr.render=ar,cr.__scopeId="data-v-308e4f4d";var or=cr,sr={name:"CarPage",components:{UserComponent:or}};r("59df");sr.render=Rt,sr.__scopeId="data-v-7699beb9";var ir=sr,lr=Object(a["G"])("data-v-39fc51af");Object(a["s"])("data-v-39fc51af");var ur={id:"add-new-car"},dr=Object(a["g"])("h1",null,"Add New Car",-1);Object(a["q"])();var br=lr((function(e,t,r,n,c,o){var s=Object(a["w"])("new-car-form");return Object(a["p"])(),Object(a["d"])("div",ur,[dr,Object(a["g"])(s)])})),pr=Object(a["G"])("data-v-3e746ff3");Object(a["s"])("data-v-3e746ff3");var fr={id:"new-car-form-container"},gr={class:"flashes"},Or={class:"form-fields"},jr={class:"form-field"},mr=Object(a["g"])("label",{for:"make"},"Make",-1),hr={class:"form-field"},vr=Object(a["g"])("label",{for:"model"},"Model",-1),yr={class:"form-fields"},Ar={class:"form-field"},wr=Object(a["g"])("label",{for:"colour"},"Colour",-1),Cr={class:"form-field"},kr=Object(a["g"])("label",{for:"year"},"Year",-1),Sr={class:"form-fields"},Pr={class:"form-field"},_r=Object(a["g"])("label",{for:"price"},"Price",-1),xr={class:"form-field"},Ur=Object(a["g"])("label",{for:"car_type"},"Car Type",-1),Tr=Object(a["g"])("option",null,"SUV",-1),Er=Object(a["g"])("option",null,"Sedan",-1),Ir=Object(a["g"])("option",null,"Coupe",-1),Rr=Object(a["g"])("option",null,"Sports Car",-1),Mr=Object(a["g"])("option",null,"Hatchback",-1),Dr=Object(a["g"])("option",null,"Convertible",-1),Br=Object(a["g"])("option",null,"Station Wagon",-1),qr=Object(a["g"])("option",null,"Minivan",-1),Nr=Object(a["g"])("option",null,"Pickup Truck",-1),Fr={class:"form-field"},Lr=Object(a["g"])("label",{for:"transmission"},"Transmission",-1),Vr=Object(a["g"])("option",null,"Automatic",-1),Jr=Object(a["g"])("option",null,"Manual",-1),Gr=Object(a["g"])("option",null,"Semi-Automatic",-1),Yr=Object(a["g"])("option",null,"Dual-Clutch",-1),Qr=Object(a["g"])("option",null,"Continuously Variable",-1),zr={class:"form-field"},Hr=Object(a["g"])("label",{for:"description"},"Description",-1),Xr={class:"form-field"},Kr=Object(a["g"])("div",{class:"form-field"},[Object(a["g"])("button",{type:"submit",id:"new-car-btn"},"Register")],-1);Object(a["q"])();var Wr=pr((function(e,t,r,n,c,o){return Object(a["p"])(),Object(a["d"])("section",fr,[Object(a["g"])("div",gr,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["v"])(c.flashes,(function(e){return Object(a["p"])(),Object(a["d"])("div",{class:e.className,key:e.message},Object(a["y"])(e.message),3)})),128))]),Object(a["g"])("form",{onSubmit:t[10]||(t[10]=Object(a["F"])((function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)}),["prevent"])),method:"POST",enctype:"multipart/form-data",id:"new-car-form"},[Object(a["g"])("article",Or,[Object(a["g"])("div",jr,[mr,Object(a["E"])(Object(a["g"])("input",{id:"make",type:"text",name:"make",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.make=e})},null,512),[[a["B"],c.make]])]),Object(a["g"])("div",hr,[vr,Object(a["E"])(Object(a["g"])("input",{id:"model",type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.model=e})},null,512),[[a["B"],c.model]])])]),Object(a["g"])("article",yr,[Object(a["g"])("div",Ar,[wr,Object(a["E"])(Object(a["g"])("input",{id:"colour",type:"text",required:"","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.colour=e})},null,512),[[a["B"],c.colour]])]),Object(a["g"])("div",Cr,[kr,Object(a["E"])(Object(a["g"])("input",{id:"year",type:"text",required:"","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.year=e}),pattern:"[0-9]{4}"},null,512),[[a["B"],c.year]])])]),Object(a["g"])("article",Sr,[Object(a["g"])("div",Pr,[_r,Object(a["E"])(Object(a["g"])("input",{id:"price",type:"number",min:"0.00",step:"0.01",required:"","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.price=e})},null,512),[[a["B"],c.price]])]),Object(a["g"])("div",xr,[Ur,Object(a["E"])(Object(a["g"])("select",{id:"car_type",required:"","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.car_type=e})},[Tr,Er,Ir,Rr,Mr,Dr,Br,qr,Nr],512),[[a["A"],c.car_type]])])]),Object(a["g"])("div",Fr,[Lr,Object(a["E"])(Object(a["g"])("select",{id:"transmission",required:"","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.transmission=e})},[Vr,Jr,Gr,Yr,Qr],512),[[a["A"],c.transmission]])]),Object(a["g"])("div",zr,[Hr,Object(a["E"])(Object(a["g"])("textarea",{id:"description",rows:"8",cols:"50",required:"","onUpdate:modelValue":t[8]||(t[8]=function(e){return c.description=e})},null,512),[[a["B"],c.description]])]),Object(a["g"])("div",Xr,[Object(a["g"])("input",{type:"file",name:"photo",ref:"photo",accept:"image/*",onChange:t[9]||(t[9]=function(e){return o.handleFileUpload()})},null,544)]),Kr],32)])})),Zr=r("2909"),$r=(r("b64b"),r("159b"),r("99af"),r("5530")),ea="http://localhost:9090/api";function ta(e){return ra.apply(this,arguments)}function ra(){return ra=Object(O["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=j(),e.next=3,fetch("".concat(ea,"/cars"),{method:"POST",headers:Object($r["a"])({},r),body:t}).then(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(201==t.status){e.next=4;break}return e.abrupt("return",t.json());case 4:return e.abrupt("return",t.json());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}var aa={name:"NewCarForm",data:function(){return{make:"",model:"",colour:"",year:"",price:0,car_type:"",transmission:"",description:"",photo:"",flashes:[]}},methods:{handleFileUpload:function(){this.photo=this.$refs.photo.files[0]},handleSubmit:function(e){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function r(){var a,n,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(c in e.preventDefault(),a={make:t.make,model:t.model,colour:t.colour,year:t.year,price:t.price,car_type:t.car_type,transmission:t.transmission,description:t.description,photo:t.photo},n=new FormData,a)n.append(c,a[c]);return console.log(n),r.next=7,ta(n);case 7:o=r.sent,console.log(o),t.flashes=[],Object.keys(o).includes("errors")?o.errors.forEach((function(e){var r,a=e.messages.map((function(t){return{message:"".concat(e.field," - ").concat(t),className:"alert alert-danger"}}));(r=t.flashes).push.apply(r,Object(Zr["a"])(a))})):t.flashes.push({message:"Car added successfully",className:"alert alert-success"});case 11:case"end":return r.stop()}}),r)})))()}}};r("8808");aa.render=Wr,aa.__scopeId="data-v-3e746ff3";var na=aa,ca={components:{NewCarForm:na},name:"AddNewCarPage"};r("a618");ca.render=br,ca.__scopeId="data-v-39fc51af";var oa=ca,sa=[{path:"/",name:"Home",component:V},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}},{path:"/login",name:"LoginPage",component:ae,meta:{guest:!0}},{path:"/register",name:"RegistrationPage",component:Te,meta:{guest:!0}},{path:"/explore",name:"ExplorePage",component:ct,meta:{requiresAuth:!0}},{path:"/cars/:id",name:"CarPage",component:Tt,meta:{requiresAuth:!0}},{path:"/users/:id",name:"UserPage",component:ir,meta:{requiresAuth:!0}},{path:"/cars/new",name:"AddNewCarPage",component:oa,meta:{requiresAuth:!0}}],ia=Object(x["a"])({history:Object(x["b"])("/"),routes:sa});ia.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))&&null==localStorage.getItem("jwt")?r({path:"/login",params:{nextUrl:e.fullPath}}):r()}));var la=ia,ua=r("bc3a"),da=r.n(ua);da.a.defaults.baseURL="http://localhost:9090",Object(a["c"])(_).use(la).mount("#app")},"59df":function(e,t,r){"use strict";r("fe31")},"622a":function(e,t,r){},"63ef":function(e,t,r){"use strict";r("176f")},"6f3a":function(e,t,r){},8673:function(e,t,r){},8808:function(e,t,r){"use strict";r("6f3a")},a143:function(e,t,r){e.exports=r.p+"img/heart-filled.7058c46c.svg"},a618:function(e,t,r){"use strict";r("622a")},a99b:function(e,t,r){"use strict";r("8673")},aba8:function(e,t,r){"use strict";r("c387")},b6b2:function(e,t,r){},c013:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAA0UlEQVRIx+1SOwoCMRScJ5brBQQrEcTOO3ieBS1dwc+57LTRxsLPBQQPsYVjEySsSfZlVSzWaUJg3ryZSYA/6gmSK5I59chJLl1a4hBvA7gCWAM4KD0NAYwAdETkVuZ+YlwNIhL3zcxYQ96TPFWo9UxyV0bqkryTnFdYsDApeiHSLLYeR01ZiHSM+Dk+XGxNKSxgrHMXROSp2/BwpgASAJlCT8+1Yibm3lJU8sK1NX0JUjOYKhIEuT97g4/h6wuampga+OotJtiac1PB7DuzdcYD2c0ozxkfjCoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDQtMjZUMDA6NDY6NTArMDA6MDCAVvtSAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA0LTI2VDAwOjQ2OjUwKzAwOjAw8QtD7gAAAABJRU5ErkJggg=="},c387:function(e,t,r){},cadd:function(e,t,r){},d330:function(e,t,r){"use strict";r("d9c8")},d9c8:function(e,t,r){},df19:function(e,t,r){"use strict";r("cadd")},e389:function(e,t,r){"use strict";r("01e7")},f1d7:function(e,t,r){},fb3f:function(e,t,r){},fbe8:function(e,t,r){e.exports=r.p+"img/heart.bbbdb05a.svg"},fe31:function(e,t,r){}});
//# sourceMappingURL=app.38060b4e.js.map